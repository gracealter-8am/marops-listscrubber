// Step 1
if (step === 1) {
    // Add these state variables at the top with your other useState declarations
    const [excludeAccounting, setExcludeAccounting] = useState(false);
    const [excludeLegal, setExcludeLegal] = useState(false);
    
    return h('div', { className: "max-w-4xl mx-auto p-6 bg-white" }, [
        h('div', { key: "header", className: "mb-8 text-center border-b border-gray-200 pb-6" }, [
            h('h1', { key: "title", className: "text-3xl font-bold text-gray-900 mb-2" }, "Lead List Processor"),
            h('p', { key: "subtitle", className: "text-gray-600" }, "Clean and process your lead lists with precision")
        ]),

        h('div', { key: "progress", className: "mb-8 flex items-center justify-center space-x-4" }, 
            [1, 2, 3, 4, 5].map(i => 
                h('div', { key: i, className: `w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium border-2 ${i <= step ? 'border-orange-600 bg-orange-50 text-orange-600' : 'border-gray-300 text-gray-400'}` }, i)
            )
        ),

        h('div', { key: "content", className: "space-y-6" }, [
            h('h2', { key: "title", className: "text-xl font-semibold" }, "Step 1: List Details"),
            
            // Rich blue info box
            h('div', { key: "info", className: "bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6" }, [
                h('h3', { key: "h3", className: "text-lg font-semibold text-blue-900 mb-2" }, "How This Tool Works"),
                h('p', { key: "desc", className: "text-blue-800 mb-3" }, 
                    "Upload your CSV or Excel file, and this tool will automatically clean and validate your lead data. It removes duplicates, validates email addresses, and filters out unmarketable leads."
                ),
                h('ul', { key: "list", className: "text-blue-800 text-sm list-disc list-inside space-y-1" }, [
                    h('li', { key: "1" }, "Automatically detects column headers (first name, last name, company, email, phone)"),
                    h('li', { key: "2" }, "Validates email addresses and removes invalid formats"),
                    h('li', { key: "3" }, "Filters out government domains (.gov, .edu, .mil, .org)"),
                    h('li', { key: "4" }, "Removes companies based on industry type and keywords"),
                    h('li', { key: "5" }, "Exports clean, marketable leads ready for outreach")
                ])
            ]),

            // Gray exclusion settings box
            h('div', { key: "exclusions", className: "bg-gray-50 border border-gray-200 rounded-lg p-6 mb-6" }, [
                h('h3', { key: "h3", className: "text-lg font-semibold text-gray-900 mb-4" }, "Exclusion Settings"),
                
                h('div', { key: "industry", className: "mb-4" }, [
                    h('h4', { key: "h4", className: "font-medium text-gray-700 mb-2" }, "Industry Exclusions:"),
                    h('div', { key: "checkboxes", className: "flex flex-wrap gap-4" }, [
                        h('label', { key: "accounting", className: "flex items-center" }, [
                            h('input', {
                                key: "checkbox",
                                type: "checkbox",
                                checked: excludeAccounting,
                                onChange: (e) => setExcludeAccounting(e.target.checked),
                                className: "mr-2"
                            }),
                            h('span', { key: "text", className: "text-sm" }, "Exclude Accounting/Finance")
                        ]),
                        h('label', { key: "legal", className: "flex items-center" }, [
                            h('input', {
                                key: "checkbox",
                                type: "checkbox", 
                                checked: excludeLegal,
                                onChange: (e) => setExcludeLegal(e.target.checked),
                                className: "mr-2"
                            }),
                            h('span', { key: "text", className: "text-sm" }, "Exclude Law/Legal")
                        ])
                    ])
                ]),

                h('div', { key: "keywords" }, [
                    h('label', { key: "label", className: "block font-medium text-gray-700 mb-2" }, 
                        "Additional Keywords to Exclude:"
                    ),
                    h('input', {
                        key: "input",
                        type: "text",
                        value: additionalKeywords,
                        onChange: (e) => setAdditionalKeywords(e.target.value),
                        placeholder: "Enter keywords separated by commas (e.g., consulting, government, medical)",
                        className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                    }),
                    h('p', { key: "help", className: "text-xs text-gray-500 mt-1" }, 
                        "Companies containing these keywords in their name will be filtered out"
                    )
                ])
            ]),
            
            h('div', { key: "listname" }, [
                h('label', { key: "label", className: "block text-sm font-medium text-gray-700 mb-2" }, "List Name *"),
                h('input', {
                    key: "input",
                    type: "text",
                    value: listName,
                    onChange: (e) => setListName(e.target.value),
                    className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",
                    placeholder: "Enter list name"
                })
            ]),
            
            h('div', { key: "brands" }, [
                h('label', { key: "label", className: "block text-sm font-medium text-gray-700 mb-2" }, "Associated Brands *"),
                h('div', { key: "checkboxes", className: "space-y-2 border border-gray-300 rounded-md p-3 bg-gray-50" },
                    ['Affinipay', 'CasePeer', 'CPACharge', 'Docketwise', 'LawPay', 'MyCase'].map(brand =>
                        h('label', { key: brand, className: "flex items-center space-x-2 cursor-pointer" }, [
                            h('input', {
                                key: "checkbox",
                                type: "checkbox",
                                checked: associatedBrands.indexOf(brand) !== -1,
                                onChange: (e) => {
                                    if (e.target.checked) {
                                        setAssociatedBrands([...associatedBrands, brand]);
                                    } else {
                                        setAssociatedBrands(associatedBrands.filter(b => b !== brand));
                                    }
                                },
                                className: "h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"
                            }),
                            h('span', { key: "text", className: "text-sm text-gray-700" }, brand)
                        ])
                    )
                )
            ]),
            
            h('div', { key: "upload" }, [
                h('label', { key: "label", className: "block text-sm font-medium text-gray-700 mb-2" }, "Upload File (CSV or Excel) *"),
                h('div', { key: "uploadarea", className: "border-2 border-dashed border-gray-300 rounded-lg p-6 text-center" }, [
                    h('input', {
                        key: "input",
                        type: "file",
                        accept: ".csv,.xlsx,.xls",
                        onChange: handleFileUpload,
                        className: "hidden",
                        id: "file-upload",
                        disabled: !listName || associatedBrands.length === 0
                    }),
                    h('label', {
                        key: "label",
                        htmlFor: "file-upload",
                        className: `cursor-pointer ${(!listName || associatedBrands.length === 0) ? 'text-gray-400 cursor-not-allowed' : 'text-orange-600 hover:text-orange-500'}`
                    }, (!listName || associatedBrands.length === 0) ? 'Complete required fields above to upload' : 'Click to upload file'),
                    uploadedFile && h('p', { key: "filename", className: "mt-2 text-sm text-gray-600" }, `Uploaded: ${uploadedFile.name}`)
                ])
            ]),

            h('div', { key: "buttons", className: "flex space-x-4" }, [
                h('button', {
                    key: "continue",
                    onClick: () => setStep(2),
                    disabled: !listName || associatedBrands.length === 0 || !uploadedFile,
                    className: "px-6 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 disabled:bg-gray-400 disabled:cursor-not-allowed"
                }, "Continue to Column Mapping")
            ])
        ])
    ]);
}
